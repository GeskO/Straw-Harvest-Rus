<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<vehicle type="kronePremos5000">
    <annotation>Copyright (C) Creative Mesh UG (haftungsbeschränkt), All Rights Reserved.</annotation>

    <storeData>
        <name>Premos 5000</name>
        <specs>
            <neededPower>350</neededPower>
        </specs>
        <functions>
            <function>$l10n_function_premos</function>
        </functions>
        <image>vehicles/krone/premos5000/store_premos5000.dds</image>
        <price>320000</price>
        <lifetime>600</lifetime>
        <rotation>0</rotation>
        <brand>KRONE</brand>
        <category>baling</category>
    </storeData>

    <base>
        <typeDesc>$l10n_typeDesc_premos</typeDesc>
        <filename>vehicles/krone/premos5000/premos5000.i3d</filename>
        <size width="3.5" length="10" lengthOffset="1.0"/>
        <speedLimit value="10"/>
        <components>
            <component centerOfMass="0 0.8 0" solverIterationCount="10" mass="17000"/>
            <component centerOfMass="0 0 0.75" solverIterationCount="25" mass="300"/>
            <component centerOfMass="0 0 0" solverIterationCount="20" mass="100"/>
            <joint component1="1" component2="2" node="compJoint_pickUp" rotLimit="0 0 0" transLimit="0 0 0" rotLimitDamping="0 0 40" rotLimitSpring="0 0 40"/>
            <joint component1="2" component2="3" node="compJoint_roller" rotLimit="0 0 0" transLimit="0 0 0" rotLimitDamping="0 0 20" rotLimitSpring="0 0 20"/>
        </components>
        <schemaOverlay attacherJointPosition="0 0">
            <default name="DEFAULT_IMPLEMENT"/>
            <turnedOn name="DEFAULT_IMPLEMENT_ON"/>
            <selected name="DEFAULT_IMPLEMENT_SELECTED"/>
            <turnedOnSelected name="DEFAULT_IMPLEMENT_SELECTED_ON"/>
        </schemaOverlay>
    </base>

    <wheels>
        <wheelConfigurations>
            <wheelConfiguration name="$l10n_configuration_valueDefault" price="0">
                <wheels>
                    <wheel filename="shared/wheels/V620_50_R_22_5.xml" isLeft="true">
                        <physics restLoad="2.3" repr="wheelFrontLeft" forcePointRatio="0.5" initialCompression="40" suspTravel="0.2" spring="25" damper="30"/>
                        <wheelChock parkingNode="wheelChockAttached01" isInverted="true"/>
                    </wheel>
                    <wheel filename="shared/wheels/V620_50_R_22_5.xml" isLeft="false">
                        <physics restLoad="2.3" repr="wheelFrontRight" forcePointRatio="0.5" initialCompression="40" suspTravel="0.2" spring="25" damper="30"/>
                    </wheel>
                    <wheel filename="shared/wheels/V620_50_R_22_5.xml" isLeft="true" hasTireTracks="true" hasParticles="true">
                        <physics restLoad="2.3" repr="backLeftRepr" driveNode="backLeftWheel" forcePointRatio="0.5" initialCompression="40" suspTravel="0.2" spring="25" damper="30"/>
                        <steeringAxle scale="-0.6" rotMax="12" rotMin="-12"/>
                    </wheel>
                    <wheel filename="shared/wheels/V620_50_R_22_5.xml" isLeft="false" hasTireTracks="true" hasParticles="true">
                        <physics restLoad="2.3" repr="backRightRepr" driveNode="backRightWheel" forcePointRatio="0.5" initialCompression="40" suspTravel="0.2" spring="25" damper="30"/>
                        <steeringAxle scale="-0.6" rotMax="12" rotMin="-12"/>
                        <wheelChock parkingNode="wheelChockAttached02"/>
                    </wheel>
                    <wheel>
                        <physics rotMin="-20" rotMax="15" restLoad="0.5" repr="puWheelLoaderLeft" driveNode="puWheelLeft" forcePointRatio="0.3" radius="0.21" width="0.15" mass="0.4" initialCompression="45" suspTravel="0.08" spring="15" damper="10" rotationDamping="0.001" brakeFactor="0" versatileYRot="true"/>
                    </wheel>
                    <wheel>
                        <physics rotMin="-15" rotMax="20" restLoad="0.5" repr="puWheelLoaderRight" driveNode="puWheelRight" forcePointRatio="0.3" radius="0.21" width="0.15" mass="0.4" initialCompression="45" suspTravel="0.08" spring="15" damper="10" rotationDamping="0.001" brakeFactor="0" versatileYRot="true"/>
                    </wheel>
                    <wheel>
                        <physics frictionScale="0.10" restLoad="0.6" repr="rollerWheel" forcePointRatio="0.3" radius="0.4" width="2.3" mass="0.3" initialCompression="25" suspTravel="0.03" spring="15" damper="10" rotationDamping="0.01" brakeFactor="0"/>
                    </wheel>
                </wheels>
            </wheelConfiguration>
        </wheelConfigurations>

        <dynamicallyLoadedWheels>
            <dynamicallyLoadedWheel linkNode="puWheelLeftVis" filename="shared/wheels/pickupWheels.xml" isLeft="true"/>
            <dynamicallyLoadedWheel linkNode="puWheelRightVis" filename="shared/wheels/pickupWheels.xml" isLeft="false"/>
        </dynamicallyLoadedWheels>

    </wheels>

    <speedRotatingParts>
        <speedRotatingPart node="puWheelLeftVis" radius="0.2" wheelIndex="5"/>
        <speedRotatingPart node="puWheelRightVis" radius="0.2" wheelIndex="6"/>
        <speedRotatingPart node="retentionRoller" radius="0.3" wheelIndex="7"/>
    </speedRotatingParts>

    <powerConsumer ptoRpm="800" neededMinPtoPower="200" neededMaxPtoPower="280"/> <!-- 220 KW ~ 300 HP -->

    <attacherJoints>
        <attacherJoint node="attacherJointBaleShredder" jointType="premosBaleShredder" allowsJointLimitMovement="false" allowsLowering="false" lowerTransLimit="0 0 0" lowerRotLimit="0 0 0" moveTime="2" canTurnOnImplement="true">
            <schema position="0.5 0" rotation="0" invertX="false"/>
            <objectChange node="baleShredderToggle" visibilityActive="false"  visibilityInactive="true" />
            <objectChange node="pickUp" visibilityActive="false"  visibilityInactive="true" />
            <objectChange node="reflector04" visibilityActive="false"  visibilityInactive="true" />
            <objectChange node="collisionFrontBaleShredder" translationActive="0.413 1.726 1.686" translationInactive="-0.687 1.726 1.686"/>
            <objectChange node="pickup_effect" scaleActive="0.01 0.01 0.01" scaleInactive="1 1 1" translationActive="1.2 0 0" translationInactive="0 0 0"/>
        </attacherJoint>
        <sounds>
            <attach template="ATTACH_01" linkNode="kronePremos5000_main_component1"/>
            <hydraulic template="DEFAULT_HYDRAULIC_SOUND" linkNode="kronePremos5000_main_component1"/>
        </sounds>
    </attacherJoints>

    <powerTakeOffs>
        <input inputNode="ptoInputNode" inputAttacherJointIndices="1" ptoAboveAttacher="true" filename="$data/shared/assets/powerTakeOffs/walterscheidWWZ.xml" detachNode="ptoDetachNode" >
        </input>
    </powerTakeOffs>

    <dynamicallyLoadedParts>
        <dynamicallyLoadedPart node="1|0" linkNode="hydraulicIn01Stored" filename="$data/shared/connectionHoses/connectors.i3d"/>
        <dynamicallyLoadedPart node="1|0" linkNode="hydraulicOut01Stored" filename="$data/shared/connectionHoses/connectors.i3d"/>
        <dynamicallyLoadedPart node="1|0" linkNode="hydraulicIn02Stored" filename="$data/shared/connectionHoses/connectors.i3d"/>
        <dynamicallyLoadedPart node="1|0" linkNode="hydraulicOut02Stored" filename="$data/shared/connectionHoses/connectors.i3d"/>
        <dynamicallyLoadedPart node="1|0" linkNode="hydraulicIn03Stored" filename="$data/shared/connectionHoses/connectors.i3d"/>
        <dynamicallyLoadedPart node="1|0" linkNode="hydraulicOut03Stored" filename="$data/shared/connectionHoses/connectors.i3d"/>
        <dynamicallyLoadedPart node="1|3" linkNode="airRedStored" filename="$data/shared/connectionHoses/connectors.i3d"/>
        <dynamicallyLoadedPart node="1|2" linkNode="airYellowStored" filename="$data/shared/connectionHoses/connectors.i3d"/>
        <dynamicallyLoadedPart node="0|1" linkNode="electricStored" filename="$data/shared/connectionHoses/connectors.i3d"/>
        <dynamicallyLoadedPart node="0|1" linkNode="electricPlug" filename="$data/shared/connectionHoses/connectors.i3d"/>
        <dynamicallyLoadedPart node="2|0" linkNode="electricSocket" filename="$data/shared/connectionHoses/connectors.i3d"/>
    </dynamicallyLoadedParts>

    <attachable>
        <inputAttacherJoints>
            <inputAttacherJoint node="attacherJoint" jointType="trailerLow" attacherHeight="0.5"/>
        </inputAttacherJoints>
        <support animationName="moveSupport"/>
        <brakeForce>0.9</brakeForce>
    </attachable>

    <lights>
        <sharedLight linkNode="reflector01" filename="$data/shared/assets/reflectors/lizard/yellowRound_01.xml"/>
        <sharedLight linkNode="reflector02" filename="$data/shared/assets/reflectors/lizard/yellowRound_01.xml"/>
        <sharedLight linkNode="reflector03" filename="$data/shared/assets/reflectors/lizard/yellowRound_01.xml"/>
        <sharedLight linkNode="reflector04" filename="$data/shared/assets/reflectors/lizard/yellowRound_01.xml"/>
        <sharedLight linkNode="reflector05" filename="$data/shared/assets/reflectors/lizard/yellowRound_01.xml"/>
        <sharedLight linkNode="reflector06" filename="$data/shared/assets/reflectors/lizard/yellowRound_01.xml"/>
        <sharedLight linkNode="backLightLeft" filename="shared/lights/kroneBackLightCombo_left.xml"/>
        <sharedLight linkNode="backLightRight" filename="shared/lights/kroneBackLightCombo_right.xml"/>


        <realLights>
            <high>
                <light node="backLightsHigh" lightTypes="0"/>
                <turnLightLeft node="turnLightLeft"/>
                <turnLightRight node="turnLightRight"/>
                <brakeLight node="backLightsHigh"/>
            </high>
        </realLights>
    </lights>

    <pickup>
        <animation name="rotatePickup"/>
    </pickup>

    <animations>
        <animation name="moveSupport">
            <part node="supportRot" startTime="0" duration="0.15" startRot="0 0 0" endRot="-101.867 0 0"/>
            <part node="supportStamp" startTime="0.15" duration="0.30" startTrans="0 0 0.385" endTrans="0 0 0.55"/>
        </animation>

        <animation name="rotatePickup">
            <part componentJointIndex="1" startTime="0.3" endTime="1" startRotLimit="0 0 0" endRotLimit="20 0 0"/>
            <part node="compJoint_pickUp" startTime="0" endTime="0.3" startRot="-20 0 0" endRot="0 0 0"/>

            <part componentJointIndex="2" startTime="0" endTime="1" startRotLimit="0 0 0" endRotLimit="10 0 0"/>
            <part node="compJoint_roller" startTime="0" endTime="1" startRot="0 0 0" endRot="-10 0 0"/>
        </animation>

        <animation name="foldUnloadingArm">
            <part node="unloadingArm" startTime="0" endTime="1" startRot="0 0 0" endRot="0 0 -115"/>
            <part node="bandUnfoldingHelp" startTime="0" endTime="0.2" startRot="0 0 0" endRot="0 0 0"/>
            <part node="bandUnfoldingHelp" startTime="0.2" endTime="0.8" startRot="0 0 0" endRot="0 0 -70"/>
            <part node="bandUnfoldingHelpTrans" startTime="0" endTime="1" startTrans="0.00 0.055 0" endTrans="-0.04 -0.029 0"/>
            <part node="bandUnfoldingHelp2" startTime="0" endTime="0.3" startRot="0 0 -5" endRot="0 0 -14"/>
            <part node="bandUnfoldingHelp2" startTime="0.3" endTime="1" startRot="0 0 -14" endRot="0 0 -14"/>
            <part node="hosesSupportJointRot" startTime="0" endTime="1" startRot="0 0 50" endRot="0 0 0"/>
        </animation>
        <animation name="unloadingAnimation">
        </animation>

        <animation name="loadingArmAnimation">
            <part node="beltTop" startTime="0" endTime="1" startRot="0 4.42 0" endRot="12 4.42 0"/>
            <part node="beltTopSmokeRot" startTime="0" endTime="1" startRot="0 0 0" endRot="-12 0 0"/>
        </animation>
    </animations>

    <connectionHoses>
        <hose inputAttacherJointIndices="1" type="hydraulicIn" node="hydraulicIn01" length="1.6" diameter="0.025" straighteningFactor="0.5">
            <objectChange node="hydraulicIn01Stored" visibilityActive="false" visibilityInactive="true"/>
        </hose>
        <hose inputAttacherJointIndices="1" type="hydraulicOut" node="hydraulicOut01" length="1.5" diameter="0.025" straighteningFactor="0.5">
            <objectChange node="hydraulicOut01Stored" visibilityActive="false" visibilityInactive="true"/>
        </hose>
        <hose inputAttacherJointIndices="1" type="hydraulicIn" node="hydraulicIn02" length="1.55" diameter="0.025" straighteningFactor="0.5">
            <objectChange node="hydraulicIn02Stored" visibilityActive="false" visibilityInactive="true"/>
        </hose>
        <hose inputAttacherJointIndices="1" type="hydraulicOut" node="hydraulicOut02" length="1.6" diameter="0.025" straighteningFactor="0.5">
            <objectChange node="hydraulicOut02Stored" visibilityActive="false" visibilityInactive="true"/>
        </hose>
        <hose inputAttacherJointIndices="1" type="hydraulicIn" node="hydraulicIn03" length="1.5" diameter="0.025" straighteningFactor="0.5">
            <objectChange node="hydraulicIn03Stored" visibilityActive="false" visibilityInactive="true"/>
        </hose>
        <hose inputAttacherJointIndices="1" type="hydraulicOut" node="hydraulicOut03" length="1.6" diameter="0.025" straighteningFactor="0.5">
            <objectChange node="hydraulicOut03Stored" visibilityActive="false" visibilityInactive="true"/>
        </hose>

        <hose inputAttacherJointIndices="1" type="airDoubleRed" node="airIn" length="1.55" diameter="0.02" straighteningFactor="0.5" minCenterPointOffset="-0.1 0 0" maxCenterPointOffset="0 0 0">
            <objectChange node="airRedStored" visibilityActive="false" visibilityInactive="true"/>
        </hose>
        <hose inputAttacherJointIndices="1" type="airDoubleYellow" node="airOut" length="1.55" diameter="0.02" straighteningFactor="0.5" minCenterPointOffset="-0.1 0 0" maxCenterPointOffset="0 0 0">
            <objectChange node="airYellowStored" visibilityActive="false" visibilityInactive="true"/>
        </hose>
        <hose inputAttacherJointIndices="1" type="electric" node="electric" length="1.6" diameter="0.008" straighteningFactor="1.1">
            <objectChange node="electricStored" visibilityActive="false" visibilityInactive="true"/>
        </hose>
    </connectionHoses>

    <cylindered>
        <movingTools>
            <movingTool node="compJoint_pickUp" playSound="true">
                <componentJoint index="1"/>
                <dependentPart node="pickUp"/>
            </movingTool>
            <movingTool node="compJoint_roller">
                <componentJoint index="2"/>
                <dependentPart node="roller"/>
            </movingTool>
            <movingTool node="unloadingArm" freezingPipeStates="0 1" foldMinLimit="0" foldMaxLimit="0" playSound="true" >
                <controls axis="AXIS_PIPE2" invertAxis="false" mouseSpeedFactor="1" iconName="PIPE_END_ROTATE" />
                <rotation rotSpeed="10" rotAcceleration="125" rotMax="-60" rotMin="-130" rotationAxis="3"/>
                <dependentPart node="cylinderUnloadingBelt"/>
                <dependentPart node="unloadingEffectRot"/>
            </movingTool>
        </movingTools>

        <movingParts>
            <movingPart node="steeringCylinderLeft" referencePoint="steeringCylLeftRef" referenceFrame="steeringCylLeftRef" isActiveDirty="true">
                <translatingPart node="steeringStampLeft"/>
            </movingPart>
            <movingPart node="steeringCylinderRight" referencePoint="steeringCylRightRef" referenceFrame="steeringCylRightRef" isActiveDirty="true">
                <translatingPart node="steeringStampRight"/>
            </movingPart>
            <movingPart node="steeringRodCylinder" referencePoint="steeringRodCylinderRef" referenceFrame="steeringRodCylinderRef" isActiveDirty="true">
                <translatingPart node="steeringRodStamp"/>
            </movingPart>
            <movingPart node="steeringRod" referencePoint="steeringCylRightRef" referenceFrame="steeringCylRightRef" isActiveDirty="true"/>

            <movingPart node="pickUp" referencePoint="pickUpRef" referenceFrame="pickUpRef" isActiveDirty="true">
            </movingPart>
            <movingPart node="roller" referencePoint="rollerRef" referenceFrame="rollerRef" isActiveDirty="true">
            </movingPart>
            <movingPart node="pickUpWheelAxisLeft" referenceFrame="puWheelLoaderLeft" isActiveDirty="true"/>
            <movingPart node="pickUpWheelAxisRight" referenceFrame="puWheelLoaderRight" isActiveDirty="true"/>
            <movingPart node="cylinderBeltTop" referencePoint="cylinderBeltTopRef" referenceFrame="cylinderBeltTopRef" isActiveDirty="true">
                <translatingPart node="stampBeltTop"/>
            </movingPart>
            <movingPart node="cylinderUnloadingBelt" referencePoint="cylinderUnloadingBeltRef" referenceFrame="cylinderUnloadingBeltRefFrame" isActiveDirty="true">
                <translatingPart node="stampUnloadingBelt"/>
            </movingPart>
            <movingPart node="unloadingEffectRot" referenceFrame="unloadingEffectRotRef" isActiveDirty="true"/>
        </movingParts>
        <sounds>
            <hydraulic template="DEFAULT_HYDRAULIC_SOUND" linkNode="kronePremos5000_main_component1"/>
        </sounds>
    </cylindered>

    <groundReferenceNodes>
        <groundReferenceNode node="groundReferenceNode" threshold="0.2"/>
    </groundReferenceNodes>

    <workAreas>
        <workArea type="pelletizer" functionName="processPelletizerArea" disableBackwards="true">
            <area startNode="workAreaStart" widthNode="workAreaWidth" heightNode="workAreaHeight"/>
            <groundReferenceNode index="1"/>
        </workArea>
    </workAreas>

    <fillUnit>
        <fillUnitConfigurations>
            <fillUnitConfiguration>
                <fillUnits>
                    <fillUnit unit="$l10n_unit_literShort" fillTypes="strawPellets hayPellets" capacity="9000">
                        <dashboard displayType="ANIMATION" valueType="fillLevel" animName="loadingArmAnimation"/>
                        <exactFillRootNode node="exactFillRootNode" extraEffectDistance="5"/>
                    </fillUnit>
                    <fillUnit unit="$l10n_unit_literShort" fillTypes="molasses" capacity="200"/>
                    <fillUnit unit="$l10n_unit_literShort" fillTypes="water" capacity="500"/>
                </fillUnits>
            </fillUnitConfiguration>
        </fillUnitConfigurations>
    </fillUnit>

    <waterTrailer fillUnitIndex="3" fillLitersPerSecond="50" fillNode="kronePremos5000_main_component1">
        <sounds>
            <refill template="DEFAULT_REFUEL_SOUND" linkNode="kronePremos5000_main_component1"/>
        </sounds>
    </waterTrailer>

    <fillVolume>
        <fillVolumeConfigurations>
            <fillVolumeConfiguration>
                <volumes>
                    <volume node="fillVolume" fillUnitIndex="1"/>
                </volumes>
            </fillVolumeConfiguration>
        </fillVolumeConfigurations>

        <unloadInfos>
            <unloadInfo fillVolumeIndex="1">
                <node node="unloadInfo" width="0.3" length="0.3"/>
            </unloadInfo>
        </unloadInfos>

        <loadInfos>
            <loadInfo>
                <node node="loadInfo" width="0.3" length="0.3"/>
            </loadInfo>
        </loadInfos>

        <dischargeInfos>
            <dischargeInfo>
                <node node="fillVolumeDischargeNode" width="0.4" length="0.5" />
            </dischargeInfo>
        </dischargeInfos>
    </fillVolume>

    <pipe unloadInfoIndex="1">
        <dischargeNode index="1"/>
        <states num="2" unloading="2"/>
        <animation name="foldUnloadingArm" speedScale="0.5" />
        <unloadingTriggers>
            <unloadingTrigger node="trailerTrigger"/>
        </unloadingTriggers>
        <animationNodes>
            <animationNode node="unloadingBelt" rotSpeed="-15"  rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5" shaderComponentScale="0 -1 0 0" shaderParameterName="offsetUV" />
            <animationNode node="rollerUnloadingBelt1" rotSpeed="600" rotAxis="3" turnOnFadeTime="2" turnOffFadeTime="3" />
            <animationNode node="rollerUnloadingBelt2" rotSpeed="600" rotAxis="3" turnOnFadeTime="2" turnOffFadeTime="3" />
            <animationNode node="rollerUnloadingBelt3" rotSpeed="-500" rotAxis="3" turnOnFadeTime="2" turnOffFadeTime="3" />
        </animationNodes>
    </pipe>

    <dischargeable>
        <dischargeNode node="dischargeNode" emptySpeed="250" fillUnitIndex="1" unloadInfoIndex="1">
            <info width="0.3" length="0.3" useRaycastHitPosition="true"/>

            <effects>
                <effectNode effectClass="PipeEffect" effectNode="unloadingEffekt" materialType="pipe" materialTypeId="1" delay="3" maxBending="0" shapeScaleSpread="1 1 0.2 1" uvScaleSpeedFreqAmp="1 8 5 0.2"/> <!-- positionUpdateNodes="smokeEffect" -->
                <effectNode effectNode="smokeEffect" materialType="smoke" materialTypeId="1" fadeTime="0.5" />
                <effectNode effectClass="MorphPositionEffect" effectNode="unloadingBeltEffect" materialType="belt" materialTypeId="1" delay="0" fadeTime="3.2" speed="0.9" scrollLength="10" scrollSpeed="1.25"/>
            </effects>

            <animationNodes>
                <animationNode node="unloadingAnimation" rotSpeed="500" rotAxis="2" turnOnFadeTime="2" turnOffFadeTime="2"/>
            </animationNodes>
        </dischargeNode>
    </dischargeable>

    <pelletizer>
        <fillTypeConverters>
            <fillTypeConverter inputFillType="STRAW" outputFillType="STRAWPELLETS" conversionFactor="0.25"/>
            <fillTypeConverter inputFillType="DRYGRASS_WINDROW" outputFillType="HAYPELLETS" conversionFactor="0.25"/>
        </fillTypeConverters>

        <inputEffect>
            <effectNode effectClass="MorphPositionEffect" effectNode="pickup_effect" materialType="PICKUP" materialTypeId="1" delay="0" fadeTime="1.8" speed="1.8" scrollLength="10" scrollSpeed="1.6"/>
            <effectNode effectClass="MorphPositionEffect" effectNode="inputBelt_effect" materialType="PICKUP" materialTypeId="1" delay="0" fadeTime="1.8" speed="1.8" scrollLength="10" scrollSpeed="1.6"/>
            <effectNode effectClass="ParticleEffect" effectNode="strawParticleEmitter" particleType="PICKUP" emitCountScale="3" worldSpace="false"/>
            <effectNode effectClass="ParticleEffect" effectNode="smokeParticleEmitter" particleType="SMOKE" emitCountScale="0.5"/>
        </inputEffect>

        <outputEffect>
            <effectNode effectClass="ParticleEffect" effectNode="NOGRAVITY_pelletEmitter" worldSpace="false" particleType="PELLET_MOVE" delay="2.0" emitCountScale="3" lifespan="1.5" />
            <effectNode effectClass="ParticleEffect" effectNode="pelletScreenLowerDustEmitter" particleType="PELLET_SMOKE" delay="2.2" emitCountScale="5"/>
            <effectNode effectClass="ParticleEffect" effectNode="pelletScreenDustEmitter" particleType="PELLET_SMOKE" delay="2.2" emitCountScale="1"/>
            <effectNode effectClass="ParticleEffect" effectNode="pelletScreenPelletEmitter" particleType="PELLET" delay="3.5" emitCountScale="4" lifespan="0.15" worldSpace="false"/>
            <effectNode effectClass="MorphPositionEffect" effectNode="bunkerFillEffect" materialType="BELT" materialTypeId="2" delay="3.6" fadeTime="3.8" speed="0.9" scrollLength="10" scrollSpeed="2.5"/>
            <effectNode effectClass="ParticleEffect" effectNode="smokeEmitter" particleType="SMOKE" delay="7.4" emitCountScale="0.8"/>
            <effectNode effectClass="ParticleEffect" effectNode="particleEmitter" particleType="PELLET" delay="7.4" emitCountScale="15" lifespan="0.6" worldSpace="false"/>
        </outputEffect>

        <animationNodes>
            <animationNode node="rakes" rotSpeed="-800" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="feedRake" rotSpeed="800" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="strawAugerLeft" rotSpeed="-1200" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="strawAugerRight" rotSpeed="-1200" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="rollerTop" rotSpeed="-190" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="rollerBottom" rotSpeed="190" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="pelletAuger" rotSpeed="-250" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="flyWheel" rotSpeed="-800" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="gearWheel1" rotSpeed="-400" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="gearWheel2" rotSpeed="-400" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="gearWheel3" rotSpeed="-400" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="gearWheel4" rotSpeed="700" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="gearWheel5" rotSpeed="-700" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="gearWheel6" rotSpeed="700" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="gearPto" rotSpeed="700" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="beltWheel1" rotSpeed="-200" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="beltWheel2" rotSpeed="-200" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="feedingBeltWheel1" rotSpeed="-600" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="feedingBeltWheel3" rotSpeed="-600" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="feedingBeltWheel4" rotSpeed="-600" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="feedingBeltWheel5" rotSpeed="-600" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="feedingBeltWheel6" rotSpeed="-600" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="beltTopRotPart1" rotSpeed="-600" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>
            <animationNode node="beltTopRotPart2" rotSpeed="-600" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5"/>

            <animationNode node="band_bunker" rotSpeed="-8" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="2" shaderComponentScale="0 1 0 0" shaderParameterName="offsetUV" />
            <animationNode node="belt1" rotSpeed="-15" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5" shaderComponentScale="0 1 0 0" shaderParameterName="offsetUV" />
            <animationNode node="belt2" rotSpeed="-25" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5" shaderComponentScale="0 1 0 0" shaderParameterName="offsetUV" />
            <animationNode node="belt3" rotSpeed="-15" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5" shaderComponentScale="0 1 0 0" shaderParameterName="offsetUV" />
            <animationNode node="belt4" rotSpeed="-15" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5" shaderComponentScale="0 1 0 0" shaderParameterName="offsetUV" />
            <animationNode node="belt5" rotSpeed="-15" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5" shaderComponentScale="0 1 0 0" shaderParameterName="offsetUV" />
            <animationNode node="belt6" rotSpeed="-15" rotAxis="1" turnOnFadeTime="2" turnOffFadeTime="5" shaderComponentScale="0 -1 0 0" shaderParameterName="offsetUV" />
        </animationNodes>
    </pelletizer>

    <turnOnVehicle turnOffIfNotAllowed="true" aiRequiresTurnOn="false">
        <sounds>
            <work file="resources/sounds/grimmeBM300.wav" innerRadius="5.0" outerRadius="65.0" fadeIn="0.3" fadeOut="0.3">
                <volume indoor="0.5" outdoor="2.0" />
                <pitch indoor="1.00" outdoor="1.00" />
                <lowpassGain indoor="0.75" outdoor="1.00" />
            </work>
        </sounds>
    </turnOnVehicle>

    <!-- <fillSound file="sounds/pelletsRipple.wav" pitchOffset="1.0" volume="5.0" indoorVolumeFactor="0.45" volume3D="5.0" innerRadius="15" radius="40" linkNode="soundLinkNode"/> -->

    <refillSuppliesConfigurations>
        <refillSuppliesConfiguration name="$l10n_configuration_manually" price="0">
            <refillSupplies hasCover="false">
                <refillSupply fillUnitIndex="2" sourceFillUnitIndex="1" usagePerLiter="0.0033"/>
                <refillSupply fillUnitIndex="3" sourceFillUnitIndex="1" usagePerLiter="0.01"/>
            </refillSupplies>
        </refillSuppliesConfiguration>
        <refillSuppliesConfiguration name="$l10n_configuration_automatically" price="10000">
            <refillSupplies hasCover="false" isActive="false">
                <refillSupply fillUnitIndex="2"/>
                <refillSupply fillUnitIndex="3"/>
            </refillSupplies>
        </refillSuppliesConfiguration>
    </refillSuppliesConfigurations>

    <tipOccluder>
        <occlusionArea start="start" width="width" height="height"/>
    </tipOccluder>

    <foliageBending>
        <bendingNode minX="-1.4" maxX="1.4" minZ="-3.3" maxZ="3.8 " yOffset="0.3" />
        <bendingNode minX="-1.4" maxX="1.4" minZ="-0.3" maxZ="0.2 " yOffset="0.2" node="kronePremos5000_retentionRoller_component3" />
    </foliageBending>

    <wearable wearDuration="480" workMultiplier="5" fieldMultiplier="2"/>
    <washable dirtDuration="90" washDuration="1" workMultiplier="4" fieldMultiplier="2"/>

    <i3dMappings>
        <i3dMapping id="kronePremos5000_main_component1" node="0>" />
        <i3dMapping id="attachable" node="0>0" />
        <i3dMapping id="supportRot" node="0>0|0" />
        <i3dMapping id="support" node="0>0|0|0" />
        <i3dMapping id="supportStamp" node="0>0|0|0|0" />
        <i3dMapping id="collisionSupport" node="0>0|0|0|0|0" />
        <i3dMapping id="attacherJoint" node="0>0|1" />
        <i3dMapping id="electricStat" node="0>0|2|0" />
        <i3dMapping id="detached" node="0>0|2|1" />
        <i3dMapping id="electricSocket" node="0>0|2|1|0" />
        <i3dMapping id="electricPlug" node="0>0|2|1|1" />
        <i3dMapping id="electricStored" node="0>0|2|1|2" />
        <i3dMapping id="electricStoredHose" node="0>0|2|1|2|0" />
        <i3dMapping id="airYellowStored" node="0>0|2|1|3" />
        <i3dMapping id="airYellowStoredHose" node="0>0|2|1|3|0" />
        <i3dMapping id="hydraulicIn03Stored" node="0>0|2|1|4" />
        <i3dMapping id="hydraulicIn03StoredHose" node="0>0|2|1|4|0" />
        <i3dMapping id="hydraulicOut03Stored" node="0>0|2|1|5" />
        <i3dMapping id="hydraulicOut03StoredHose" node="0>0|2|1|5|0" />
        <i3dMapping id="hydraulicOut02Stored" node="0>0|2|1|6" />
        <i3dMapping id="hydraulicOut02StoredHose" node="0>0|2|1|6|0" />
        <i3dMapping id="hydraulicIn02Stored" node="0>0|2|1|7" />
        <i3dMapping id="hydraulicIn02StoredHose" node="0>0|2|1|7|0" />
        <i3dMapping id="hydraulicOut01Stored" node="0>0|2|1|8" />
        <i3dMapping id="hydraulicOut01StoredHose" node="0>0|2|1|8|0" />
        <i3dMapping id="hydraulicIn01Stored" node="0>0|2|1|9" />
        <i3dMapping id="hydraulicIn01StoredHose" node="0>0|2|1|9|0" />
        <i3dMapping id="airRedStored" node="0>0|2|1|10" />
        <i3dMapping id="airRedStoredHose" node="0>0|2|1|10|0" />
        <i3dMapping id="attached" node="0>0|2|2" />
        <i3dMapping id="electric" node="0>0|2|2|0" />
        <i3dMapping id="hydraulicOut03" node="0>0|2|2|1" />
        <i3dMapping id="hydraulicIn03" node="0>0|2|2|2" />
        <i3dMapping id="airOut" node="0>0|2|2|3" />
        <i3dMapping id="airIn" node="0>0|2|2|4" />
        <i3dMapping id="hydraulicOut02" node="0>0|2|2|5" />
        <i3dMapping id="hydraulicIn02" node="0>0|2|2|6" />
        <i3dMapping id="hydraulicOut01" node="0>0|2|2|7" />
        <i3dMapping id="hydraulicIn01" node="0>0|2|2|8" />
        <i3dMapping id="ptoInputNode" node="0>0|3" />
        <i3dMapping id="ptoDetachNode" node="0>0|4" />
        <i3dMapping id="attacherJointBaleShredder" node="0>0|5" />
        <i3dMapping id="wheels" node="0>1" />
        <i3dMapping id="axle" node="0>1|0" />
        <i3dMapping id="wheelFrontLeft" node="0>1|0|0" />
        <i3dMapping id="wheelFrontRight" node="0>1|0|1" />
        <i3dMapping id="steeringAxle" node="0>1|0|2" />
        <i3dMapping id="backLeftRepr" node="0>1|0|2|0" />
        <i3dMapping id="backLeftWheel" node="0>1|0|2|0|0" />
        <i3dMapping id="steeringCylLeftRef" node="0>1|0|2|0|1" />
        <i3dMapping id="steeringRod" node="0>1|0|2|0|2" />
        <i3dMapping id="steeringRodCylinderRef" node="0>1|0|2|0|2|0" />
        <i3dMapping id="steeringCylinderLeft" node="0>1|0|2|1" />
        <i3dMapping id="steeringStampLeft" node="0>1|0|2|1|0" />
        <i3dMapping id="backRightRepr" node="0>1|0|2|2" />
        <i3dMapping id="backRightWheel" node="0>1|0|2|2|0" />
        <i3dMapping id="steeringCylRightRef" node="0>1|0|2|2|1" />
        <i3dMapping id="steeringCylinderRight" node="0>1|0|2|3" />
        <i3dMapping id="steeringStampRight" node="0>1|0|2|3|0" />
        <i3dMapping id="steeringRodCylinder" node="0>1|0|2|4" />
        <i3dMapping id="steeringRodStamp" node="0>1|0|2|4|0" />
        <i3dMapping id="brake" node="0>1|0|3" />
        <i3dMapping id="aufbau10" node="0>1|0|3|0" />
        <i3dMapping id="aufbau11" node="0>1|0|3|1" />
        <i3dMapping id="aufbau12" node="0>1|0|3|2" />
        <i3dMapping id="aufbau13" node="0>1|0|3|3" />
        <i3dMapping id="aufbau14" node="0>1|0|3|4" />
        <i3dMapping id="wheelChockAttached01" node="0>1|1" />
        <i3dMapping id="wheelChockAttached02" node="0>1|1|0" />
        <i3dMapping id="visuals" node="0>2" />
        <i3dMapping id="main2_root" node="0>2|1" />
        <i3dMapping id="fireextinguischer" node="0>2|2" />
        <i3dMapping id="rotatingParts" node="0>2|3" />
        <i3dMapping id="beltWheel1" node="0>2|3|0" />
        <i3dMapping id="beltWheel2" node="0>2|3|1" />
        <i3dMapping id="pelletAuger" node="0>2|3|2" />
        <i3dMapping id="pelletScreen" node="0>2|3|2|0" />
        <i3dMapping id="decals_bolts1" node="0>2|3|2|0|0" />
        <i3dMapping id="rollerTop" node="0>2|3|3" />
        <i3dMapping id="rollerBottom" node="0>2|3|4" />
        <i3dMapping id="feedRake" node="0>2|3|5" />
        <i3dMapping id="gearWheel2" node="0>2|3|6" />
        <i3dMapping id="gearWheel3" node="0>2|3|7" />
        <i3dMapping id="gearPto" node="0>2|3|8" />
        <i3dMapping id="flyWheel" node="0>2|3|9" />
        <i3dMapping id="gearWheel4" node="0>2|3|10" />
        <i3dMapping id="gearWheel5" node="0>2|3|11" />
        <i3dMapping id="gearWheel6" node="0>2|3|12" />
        <i3dMapping id="feedingBeltWheel1" node="0>2|3|13" />
        <i3dMapping id="feedingBeltWheel3" node="0>2|3|14" />
        <i3dMapping id="feedingBeltWheel4" node="0>2|3|15" />
        <i3dMapping id="feedingBeltWheel5" node="0>2|3|16" />
        <i3dMapping id="feedingBeltWheel6" node="0>2|3|17" />
        <i3dMapping id="rollerUnloadingBelt1" node="0>2|3|18|0" />
        <i3dMapping id="rollerUnloadingBelt3" node="0>2|3|18|1" />
        <i3dMapping id="hoses1" node="0>2|4" />
        <i3dMapping id="bunker" node="0>2|5" />
        <i3dMapping id="decals" node="0>2|6" />
        <i3dMapping id="decal" node="0>2|6|0" />
        <i3dMapping id="decals_bolts6" node="0>2|6|1" />
        <i3dMapping id="belt1" node="0>2|7|0" />
        <i3dMapping id="belt2" node="0>2|7|1" />
        <i3dMapping id="belt3" node="0>2|7|2" />
        <i3dMapping id="belt5" node="0>2|7|3" />
        <i3dMapping id="belt6" node="0>2|7|4" />
        <i3dMapping id="beltTop" node="0>2|8" />
        <i3dMapping id="band_bunker" node="0>2|8|0" />
        <i3dMapping id="decals_bolts4" node="0>2|8|1" />
        <i3dMapping id="beltTopRotPart2" node="0>2|8|3" />
        <i3dMapping id="beltTopRotPart1" node="0>2|8|4" />
        <i3dMapping id="beltTopSmokeRot" node="0>2|8|5" />
        <i3dMapping id="cylinderBeltTopRef" node="0>2|8|7" />
        <i3dMapping id="beltTopPart" node="0>2|8|8" />
        <i3dMapping id="bunkerFillEffect" node="0>2|8|9" />
        <i3dMapping id="smokeEmitter" node="0>2|8|10" />
        <i3dMapping id="particleEmitter" node="0>2|8|11" />
        <i3dMapping id="collisionBeltTop" node="0>2|8|12" />
        <i3dMapping id="pelletScreenEmitter" node="0>2|9" />
        <i3dMapping id="pelletScreenDustEmitter" node="0>2|9|0" />
        <i3dMapping id="pelletScreenPelletEmitter" node="0>2|9|1" />
        <i3dMapping id="pelletScreenLowerDustEmitter" node="0>2|9|2" />
        <i3dMapping id="NOGRAVITY_pelletEmitter" node="0>2|9|3" />
        <i3dMapping id="baleShredderToggle" node="0>2|10" />
        <i3dMapping id="main1Toggle" node="0>2|10|0" />
        <i3dMapping id="main2Toggle" node="0>2|10|1" />
        <i3dMapping id="strawAugerRight" node="0>2|10|2" />
        <i3dMapping id="strawAugerLeft" node="0>2|10|3" />
        <i3dMapping id="gearWheel1" node="0>2|10|4" />
        <i3dMapping id="belt4" node="0>2|10|5" />
        <i3dMapping id="movingTools" node="0>3" />
        <i3dMapping id="compJoint_pickUp" node="0>3|0" />
        <i3dMapping id="pickUp" node="0>3|1" />
        <i3dMapping id="compJoint_roller" node="0>3|1|0" />
        <i3dMapping id="decals_bolts5" node="0>3|1|1" />
        <i3dMapping id="rakes" node="0>3|1|2" />
        <i3dMapping id="roller" node="0>3|1|3" />
        <i3dMapping id="decals_bolts3" node="0>3|1|3|0" />
        <i3dMapping id="retentionRoller" node="0>3|1|3|1" />
        <i3dMapping id="decals_bolts2" node="0>3|1|3|1|0" />
        <i3dMapping id="puWheels" node="0>3|1|4" />
        <i3dMapping id="pickUpWheelAxisLeft" node="0>3|1|4|0" />
        <i3dMapping id="puWheelLeftVis" node="0>3|1|4|0|0" />
        <i3dMapping id="pickUpWheelAxisRight" node="0>3|1|4|1" />
        <i3dMapping id="puWheelRightVis" node="0>3|1|4|1|0" />
        <i3dMapping id="groundReferenceNode" node="0>3|1|5" />
        <i3dMapping id="pickup_vis" node="0>3|1|6" />
        <i3dMapping id="strawParticleEmitter" node="0>3|1|6|0" />
        <i3dMapping id="smokeParticleEmitter" node="0>3|1|6|1" />
        <i3dMapping id="unloadingArm" node="0>3|2|0" />
        <i3dMapping id="rollerUnloadingBelt2" node="0>3|2|0|0" />
        <i3dMapping id="bandUnfoldingHelp2" node="0>3|2|0|2" />
        <i3dMapping id="j_unloadingArmHelp2" node="0>3|2|0|2|0|0" />
        <i3dMapping id="cylinderUnloadingBeltRef" node="0>3|2|0|3" />
        <i3dMapping id="fillVolumeDischargeNode" node="0>3|2|0|4" />
        <i3dMapping id="unloadingEffectRot" node="0>3|2|0|5" />
        <i3dMapping id="raycastNode" node="0>3|2|0|5|0" />
        <i3dMapping id="unloadingEffekt" node="0>3|2|0|5|1|0" />
        <i3dMapping id="smokeEffect" node="0>3|2|0|5|1|1" />
        <i3dMapping id="j_unloadingBeltAngle" node="0>3|2|0|5|2" />
        <i3dMapping id="dischargeNode" node="0>3|2|0|5|3" />
        <i3dMapping id="collisionArm" node="0>3|2|0|6" />
        <i3dMapping id="bandUnfoldingHelp" node="0>3|2|1" />
        <i3dMapping id="bandUnfoldingHelpTrans" node="0>3|2|1|0" />
        <i3dMapping id="j_unloadingArmHelp" node="0>3|2|1|0|0" />
        <i3dMapping id="hosesSupportJointRot" node="0>3|2|2" />
        <i3dMapping id="unloadingEffectRotRef" node="0>3|2|3" />
        <i3dMapping id="cylindered" node="0>4" />
        <i3dMapping id="cylinderBeltTop" node="0>4|0" />
        <i3dMapping id="stampBeltTop" node="0>4|0|0" />
        <i3dMapping id="cylinderUnloadingBeltRefFrame" node="0>4|1" />
        <i3dMapping id="cylinderUnloadingBelt" node="0>4|2" />
        <i3dMapping id="stampUnloadingBelt" node="0>4|2|0" />
        <i3dMapping id="j_cylinderUnloading" node="0>4|2|1" />
        <i3dMapping id="skinnedMesh" node="0>5" />
        <i3dMapping id="unloadingBelt" node="0>5|0" />
        <i3dMapping id="schlauch8" node="0>5|1" />
        <i3dMapping id="hoses2" node="0>5|2" />
        <i3dMapping id="unloadingBeltEffect" node="0>5|4" />
        <i3dMapping id="collisions" node="0>6" />
        <i3dMapping id="collisionBelt" node="0>6|0" />
        <i3dMapping id="collisionPart05" node="0>6|1" />
        <i3dMapping id="collisionPart04" node="0>6|2" />
        <i3dMapping id="collisionPart03" node="0>6|3" />
        <i3dMapping id="collisionPart02" node="0>6|4" />
        <i3dMapping id="collisionPart01" node="0>6|5" />
        <i3dMapping id="collisionFront" node="0>6|6" />
        <i3dMapping id="collisionFrontBaleShredder" node="0>6|7" />
        <i3dMapping id="backLightsHigh" node="0>7|0|0" />
        <i3dMapping id="backLightsHigh2" node="0>7|0|0|0" />
        <i3dMapping id="turnLightLeft" node="0>7|0|1" />
        <i3dMapping id="turnLightRight" node="0>7|0|2" />
        <i3dMapping id="backLightRight" node="0>7|1|0" />
        <i3dMapping id="backLightLeft" node="0>7|1|1" />
        <i3dMapping id="reflector01" node="0>7|1|2" />
        <i3dMapping id="reflector02" node="0>7|1|3" />
        <i3dMapping id="reflector03" node="0>7|1|4" />
        <i3dMapping id="reflector04" node="0>7|1|5" />
        <i3dMapping id="reflector05" node="0>7|1|6" />
        <i3dMapping id="reflector06" node="0>7|1|7" />
        <i3dMapping id="fillUnit" node="0>8" />
        <i3dMapping id="fillVolume" node="0>8|0" />
        <i3dMapping id="exactFillRootNode" node="0>8|1" />
        <i3dMapping id="trailerTrigger" node="0>8|2" />
        <i3dMapping id="unloadInfo" node="0>8|3" />
        <i3dMapping id="loadInfo" node="0>8|4" />
        <i3dMapping id="workArea" node="0>9" />
        <i3dMapping id="workAreaStart" node="0>9|0" />
        <i3dMapping id="workAreaWidth" node="0>9|1" />
        <i3dMapping id="workAreaHeight" node="0>9|2" />
        <i3dMapping id="pickup_effect" node="0>10|0" />
        <i3dMapping id="inputBelt_effect" node="0>10|1" />
        <i3dMapping id="tipOccluder" node="0>11" />
        <i3dMapping id="start" node="0>11|0" />
        <i3dMapping id="width" node="0>11|1" />
        <i3dMapping id="height" node="0>11|2" />
        <i3dMapping id="kronePremos5000_pickUp_component2" node="1>" />
        <i3dMapping id="pickUpRef" node="1>0" />
        <i3dMapping id="puWheelLoaderRight" node="1>1" />
        <i3dMapping id="puWheelRight" node="1>1|0" />
        <i3dMapping id="puWheelLoaderLeft" node="1>2" />
        <i3dMapping id="puWheelLeft" node="1>2|0" />
        <i3dMapping id="kronePremos5000_retentionRoller_component3" node="2>" />
        <i3dMapping id="rollerRef" node="2>0" />
        <i3dMapping id="rollerWheel" node="2>1" />
    </i3dMappings>
</vehicle>